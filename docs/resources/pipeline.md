---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "warpstream_pipeline Resource - terraform-provider-warpstream"
subcategory: ""
description: |-
  This resource allows you to create pipelines (Bento, Orbit, and Schema Linking).
  For more details, take a look at: https://docs.warpstream.com/warpstream/configuration/bento, https://docs.warpstream.com/warpstream/byoc/orbit and https://docs.warpstream.com/warpstream/byoc/schema-registry/warpstream-schema-linking.
  The WarpStream provider must be authenticated with an application key to consume this resource.
---

# warpstream_pipeline (Resource)

This resource allows you to create pipelines (Bento, Orbit, and Schema Linking).
For more details, take a look at: https://docs.warpstream.com/warpstream/configuration/bento, https://docs.warpstream.com/warpstream/byoc/orbit and https://docs.warpstream.com/warpstream/byoc/schema-registry/warpstream-schema-linking.

The WarpStream provider must be authenticated with an application key to consume this resource.

## Example Usage

```terraform
terraform {
  required_providers {
    warpstream = {
      source = "warpstreamlabs/warpstream"
    }
  }
}

provider "warpstream" {
  token = "aks_xxx"
}

resource "warpstream_virtual_cluster" "tf_example_pipelines" {
  name = "vcn_tf_example_pipelines"
  tier = "dev"
}

resource "warpstream_pipeline" "example_bento_pipeline" {
  virtual_cluster_id = warpstream_virtual_cluster.tf_example_pipelines.id
  name               = "example_bento_pipeline"
  state              = "running"
  configuration_yaml = <<EOT
  error_handling:
    strategy: reject
  input:
    kafka_franz:
        seed_brokers: ["localhost:9092"]
        topics: ["test_topic"]
        consumer_group: "test_topic_cap"

    processors:
        - mapping: "root = content().capitalize()"

  output:
      kafka_franz:
          seed_brokers: ["localhost:9092"]
          topic: "test_topic_capitalized"
  EOT
}

resource "warpstream_pipeline" "example_orbit_pipeline" {
  virtual_cluster_id = warpstream_virtual_cluster.tf_example_pipelines.id
  name               = "example_orbit_pipeline"
  state              = "running"
  type               = "orbit"
  configuration_yaml = <<EOT
  source_bootstrap_brokers:
    - hostname: localhost
      port: 9092

  source_cluster_credentials:
    sasl_mechanism: plain
    use_tls: false

  topic_mappings:
    - source_regex: topic.*
      destination_prefix: ""

  cluster_config:
    copy_source_cluster_configuration: false

  consumer_groups:
    copy_offsets_enabled: true             

  warpstream:
    cluster_fetch_concurrency: 2
  EOT
}

resource "warpstream_pipeline" "example_schema_linking_pipeline" {
  virtual_cluster_id = warpstream_virtual_cluster.tf_example_pipelines.id
  name               = "example_schema_linking_pipeline"
  state              = "running"
  type               = "schema_linking"
  configuration_yaml = <<EOT
  source_schema_registry:
    hostname: localhost
    port: 8087
  sync_every_seconds: 300
  context_type: "DEFAULT"
  EOT
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration_yaml` (String) The YAML content defining the input sources, processing steps, and output destinations for the pipeline. This represents the complete configuration for this specific version. To understand how to set your configuration take a look at: https://docs.warpstream.com/warpstream/configuration/bento#getting-started
- `name` (String) The unique human-readable name of the pipeline within the virtual cluster. This cannot be changed after creation.
- `state` (String) The desired operational state of the pipeline. Valid values are 'running' or 'paused'.
- `virtual_cluster_id` (String) The ID of the virtual cluster associated with the pipeline.

### Optional

- `type` (String) Pipeline type. Valid types are: `bento` (default), `orbit`, `schema_linking`

### Read-Only

- `configuration_id` (String) The unique identifier of the pipeline configuration, automatically generated by WarpStream upon creation.
- `id` (String) The unique identifier of the pipeline, automatically generated by WarpStream upon creation.
